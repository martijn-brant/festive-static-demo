<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body  {
        background: url("depositphotos_54868755-stock-photo-snow-stars-christmas-background-3.jpg") no-repeat center center fixed; 
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
      }

      main {
        margin: auto;
        width: 800px;
        
        text-align: center;
        background-color: #DBE6FA;
        padding: 0px;
        padding-bottom: 20px;

        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }
      
      h1 {
        font-size: 3.5em;
      }

      .gifttable {
        width: 750px;
      }

      .toprow {
        font-weight: bold;
        padding-bottom: 10px;
        text-align: center;
      }

      td {
        text-align: left;
        padding-left: 15px;
      }

      .center{
        text-align: center;
      }


      </style>
    <title>My Santa wish list!</title>
  </head>

  <body>
    <main>
      <img src="calendar.jpg" height="450" width="800" />
      <h1>Dear Santa,</h1>
      <p>
        Thank you for reading my wishlist. <br />
        This year, I would like to have the following presents.
      </p>

      <br />

      <table id="tableofgifts" class="gifttable">
        <tr><td colspan="3" class="center"><i>Loading giftlist...</i></td></tr>
      </table>

      <br />
      <br />
      <br />

      <p>Thank you Santa!</p>
    </main>
  </body>

  <script>
    (async function () {
      let response = await fetch(`api/gifts`);
      let giftJSON = await response.json();

      var giftlist = JSON.parse(giftJSON.text);

      var innerHTML = '<tr><td class="toprow">Name</td><td class="toprow">Notes</td><td class="toprow">Store</td></tr>';
      document.querySelector("#tableofgifts").innerHTML = innerHTML

      for (const gift in giftlist.gifts) {
        //document.querySelector("#listofgifts").innerHTML += `${gift}: ${giftlist.gifts[gift]} <br />`
        document.querySelector("#tableofgifts").innerHTML += `<tr><td>${giftlist.gifts[gift].Name}</td><td>${giftlist.gifts[gift].Notes}</td><td>${giftlist.gifts[gift].Store}</td></tr>`
        console.log(`${gift}: ${giftlist.gifts[gift]}`);
      }

      
    })();
  </script>
</html>
